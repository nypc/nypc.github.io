<!DOCTYPE html>
<html>
<head>
    <title>
    </title>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>
        h1 { margin-bottom: 20pt; font-size: 22pt; font-weight: bold; }
        h2 { margin-top: 20pt; font-size: 16pt; font-weight: bold; }
        h3 { margin-top: 20pt; font-size: 14pt; font-weight: bold; }
        blockquote { font-size: 11pt; }
	</style>
		
	<!-- KaTeX -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.1/katex.min.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.1/katex.min.js"></script>
</head>
<body style='padding:20pt; font-family: 맑은 고딕;'>
<a href='./'>← 목록으로</a>
<hr>
<!--------------->

<h1>도토리를 주워라</h1>
<p>[바람의나라]에 있는 욕심쟁이 다람쥐는 도토리를 주으러 위험을 무릅쓰고 <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>×</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N \times N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></eq> 크기의 초보자사냥터에 왔다. 사냥터에는 여기저기 도토리들이 널려 있는데, 도토리가 있는 곳으로 이동하면 도토리를 주울 수 있다. 사냥터에는 게임을 하고 있는 유저들이 &quot;넥슨은 다람쥐를 뿌려라!&quot;를 외치며 다람쥐가 나타나기를 기다리고 있다. 유저들은 자리를 이동하지는 않지만 욕심쟁이 다람쥐가 유저가 있는 곳으로 가면 유저에게 공격을 받기 때문에 유저가 있는 칸으로 갈 수 없다. 욕심쟁이 다람쥐는 몸이 무겁기 때문에 위로 올라가지 못하고, 왼쪽, 오른쪽, 아래로만 움직일 수 있다.</p>
<p>욕심쟁이 다람쥐가 최대한 많은 도토리를 챙겨 사냥터를 빠져나갈 수 있게 하자.</p>
<figure style="text-align:center;">
<img src="https://nypc2020.s3.ap-northeast-2.amazonaws.com/dotori1.png">
<figcaption>&lt;그림 1&gt; 사냥터 모습의 예시</figcaption>
</figure>
<p>욕심쟁이 다람쥐의 시작 위치는 맨 왼쪽 위 칸으로 고정되어 있다. 그리고 사냥터의 출구는 맨 오른쪽 아래 칸에 있다. 출구에 도달했을 때, 바로 사냥터를 빠져나가지 않고 다른 곳을 다녀왔다가 다시 출구로 돌아올 수 있다. 아래로 한 칸 이동하는 것을 <code>D</code>, 왼쪽으로 한 칸 이동하는 것을 <code>L</code>, 오른쪽으로 한 칸 이동하는 것을 <code>R</code>로 표현했을 때, &lt;그림 1&gt;의 상황에서 <code>RRRLDDLLRRRRDDLLRR</code>로 이동하면 총 8개의 도토리를 주우며 출구에 도달할 수 있고, 이보다 더 많은 도토리를 주우면서 출구에 도달할 수 없다.</p>
<h2>입력 형식</h2>
<p>첫째 줄에 사냥터의 크기 <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></eq>이 주어진다. (<eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">5 \leq N \leq 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span></span></span></span></eq>)</p>
<p>그 다음 <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></eq> 개의 줄에 사냥터의 상황이 주어진다. 각 줄은 길이가 <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></eq>인 문자열로 이루어져 있고, 문자 <code>.</code>는 아무 것도 없는 칸을, 문자 <code>D</code>는 도토리가 놓여져 있는 칸을, 문자 <code>U</code>는 유저가 있는 칸을 의미한다.</p>
<p>욕심쟁이 다람쥐가 시작하는 칸과 출구가 있는 칸은 항상 비어있으며, 욕심쟁이 다람쥐가 출구에 도달할 수 없는 입력은 주어지지 않는다.</p>
<h2>출력 형식</h2>
<p>욕심쟁이 다람쥐가 움직이는 과정을 나타내는 이동 커맨드를 출력한다. 욕심쟁이 다람쥐가 왼쪽으로 한 칸 움직이면 <code>L</code>, 오른쪽으로 한 칸 움직이면 <code>R</code>, 아래로 한 칸 움직이면 <code>D</code>로, 움직인 순서에 따라 하나의 문자열로 만들어 출력한다. 단, 출력하는 이동 커맨드의 길이가 <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext> </mtext><mn>000</mn><mtext> </mtext><mn>000</mn></mrow><annotation encoding="application/x-tex">1\ 000\ 000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace"> </span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace"> </span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></eq>을 넘으면 안 된다.</p>
<p>욕심쟁이 다람쥐는 주어지는 입력 상황에서 가장 많은 도토리를 주우며 출구에 도달해야 한다. 출구에 도달한 이후에 마저 움직일 수 있으며, 최종 종료 위치는 반드시 출구여야 한다. 움직이는 도중에 유저가 있는 칸으로 들어가거나 사냥터 밖으로 나가거나 하면 안 된다. 만약, 가능한 답이 여러 가지인 경우 그중 아무거나 하나 출력한다.</p>
<h2>입력 예제</h2>
<pre><code data-line="29" class="code-line"><code><div>5
..DDU
.U.U.
DD.DD
.UUU.
.UDD.
</div></code></code></pre>
<h2>출력 예제</h2>
<pre><code data-line="40" class="code-line"><code><div>RRRLDDLLRRRRDDLLRR
</div></code></code></pre>
<h2>채점 방식</h2>
<p>이 문제는 풀이 소스 코드를 제출하지 않고, 각 테스트 케이스의 입력 데이터를 다운받아 알맞은 출력 파일을 만들어 출력 파일만을 제출하는 문제다.</p>
<p>문제 해결을 도와주는 시뮬레이터가 아래 미션에 대해 제공된다. 제공되는 시뮬레이터는 최신 버전의 크롬 브라우저에서 여는 것을 권장한다.</p>
<ul>
<li data-line="50" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=1" target="_blank">미션 1 시뮬레이터 열기</a></li>
<li data-line="51" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=2" target="_blank">미션 2 시뮬레이터 열기</a></li>
<li data-line="52" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=3" target="_blank">미션 3 시뮬레이터 열기</a></li>
<li data-line="53" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=4" target="_blank">미션 4 시뮬레이터 열기</a></li>
<li data-line="54" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=5" target="_blank">미션 5 시뮬레이터 열기</a></li>
<li data-line="55" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=6" target="_blank">미션 6 시뮬레이터 열기</a></li>
<li data-line="56" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=7" target="_blank">미션 7 시뮬레이터 열기</a></li>
<li data-line="57" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=8" target="_blank">미션 8 시뮬레이터 열기</a></li>
<li data-line="58" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=9" target="_blank">미션 9 시뮬레이터 열기</a></li>
<li data-line="59" class="code-line"><a href="http://nypc2020.s3-website.ap-northeast-2.amazonaws.com/0e47b238b3bbd4d8/?subtask=10" target="_blank">미션 10 시뮬레이터 열기</a></li>
</ul>
<!--------------->
<hr>
<h2>해설</h2>
<p><button onclick='document.getElementById("hint_text").style.display="block"; this.style.display="none";' class='btn btn-default'>펼치기</button></p> 
<div id='hint_text' style='display: none;'> 
    긴 시간 동안 시뮬레이터를 이용하여 문제를 해결하거나, DP 풀이로 프로그램을 작성하여 문제를 해결할 수 있다.<br/>
    좌우로 연속하게 비어있는 칸들을 하나로 묶어 정점으로 표현한다. <br/>
    격자판에서 위에서 아래로 이동할 수 있는 칸 쌍에 대해 방향성 간선을 추가한다. <br/>
    이런 식으로 그래프를 그리면 사이클이 없는 방향성 그래프(DAG, Directed Acyclic Graph)가 된다. <br/>
    정점마다 그 정점에 속하는 칸에 있는 도토리 수 합을 정점의 가중치로 둔다. <br/>
    그러면 DAG에서 시작 정점과 도착 정점이 있을 때, 경로에 속한 정점 가중치 합이 가장 큰 경로를 구하는 문제가 된다. <br/>
    이는 위상 정렬과 DP로 해결할 수 있다.
</div> 
</body>
</html>

