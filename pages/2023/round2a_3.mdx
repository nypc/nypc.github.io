import {
  Examples,
  Input,
  Output,
  Figure,
  PostLayout,
  Simulators,
  Solution,
  Subtask,
} from "components";

export const meta = {
  title: "창수의 고민",
  year: 2023,
  stage: "Round 2-A",
};

export default ({ children }) => (
  <PostLayout meta={meta}>{children}</PostLayout>
);

창수는 오랫동안 메이플스토리를 플레이하고 있는 유저다.
창수는 $N$ 명의 길드원이 있는 길드의 마스터다.
창수는 길드원들을 위해 최근 길드원의 코디 대회를 열었고,
$1$등부터 $N$등까지 등수를 매겼다. 코디 대회에서 동점은 없다.
편의상 코디 대회에서 $i$등을 한 길드원을 $i$번 길드원이라고 하자.
즉, 모든 길드원은 $1$번부터 $N$번까지 번호가 매겨진다.

메이플스토리에는 **인기도** 시스템이 있다.
좋은 취지로 코디 대회를 열었지만,
일부 길드원들 사이에서 불만의 목소리가 나오고 있다.
코디 대회에서 등수가 높음에도 인기도가 낮은 유저들의 불만이 있다.

창수는 길드원들이 최대한 많이 만족하길 바라는 마음에서
설문조사를 진행했고, 그 결과를 바탕으로 **만족 점수**를 정의했다.
$i < j$인 $i$, $j$에 대해 $i$번 길드원이 $j$번 길드원보다
인기도가 높거나 같으면 만족 점수가 $1$만큼 올라간다.

예를 들어서, $5$ 명의 길드원이 있고
각 길드원의 인기도를 순서대로 $5$, $1$, $0$, $2$, $4$라고 하자.
이때, 만족 점수는 $5$이다.

창수는 길드원의 인기도를 조정하여 이 **만족 점수**를 최대화하려고 한다.
창수는 $S$번 길드원부터 $E$번 길드원까지
번호가 연속한 길드원의 인기도에 $K$를 더할 수 있다.

$N$ 명의 길드원의 인기도와 인기도 조정값 $K$가 주어졌을 때,
$S$와 $E$를 적절히 정해서 **만족 점수**를 최대화하는 프로그램을 작성하시오.

## 입력 형식

첫 줄에 길드원의 수 $N$과 인기도 조정값을 나타내는 정수 $K$가
공백으로 구분되어 주어진다.
($2 \le N \le 300\,000;$
$|K| \le 2\,000\,000\,000\,000\,000\,000$)

그다음 줄에 $N$ 명의 길드원의 인기도가 번호 순서대로 공백으로 구분되어 주어진다.
인기도의 절대값은 $1\,000\,000\,000\,000\,000\,000$을 넘지 않는다.

## 출력 형식

첫 줄에 **만족 점수**를 최대화할 수 있는 $S$와 $E$를
공백으로 구분하여 출력한다.
단, $1 \le S \le E \le N$를 만족해야 한다.

만약 가능한 답이 여러 가지라면, 그중 아무거나 하나 출력한다.

## 예제 1

<Examples>
  {/* prettier-ignore */}
  <Input>
5 3
5 1 0 2 4
  </Input>
  {/* prettier-ignore */}
  <Output>
2 3
  </Output>
</Examples>

## 예제 2

<Examples>
  {/* prettier-ignore */}
  <Input>
3 -2
3 4 1
  </Input>
  {/* prettier-ignore */}
  <Output>
2 2
  </Output>
</Examples>

## 예제 설명

예제 1에서, $2$번 길드원부터 $3$번 길드원까지,
총 $2$ 명의 길드원의 인기도에 $3$을 더하면,
길드원의 인기도가 순서대로 $5$, $4$, $3$, $2$, $4$가 된다.
이때, **만족 점수**는 $8$이 된다.
이보다 더 큰 만족 점수를 얻을 수 있는 방법은 없다.

예제 2에서, $2$번 길드원의 인기도에 $-2$를 더하면,
길드원의 인기도가 순서대로 $3$, $2$, $1$이 된다.
이때, **만족 점수**는 $3$이 되며,
이보다 더 큰 만족 점수를 얻을 수 있는 방법은 없다.

## 채점 방식

입력 케이스들은 다음과 같은 종류로 구별되며, 한 종류의 케이스를 다 맞혀야 그 종류에 배정된 점수를 받을 수 있다.

<Subtask index={1} score={9}>
  $N \le 100$
</Subtask>
<Subtask index={2} score={13}>
  $N \le 500$
</Subtask>
<Subtask index={3} score={15}>
  $N \le 3,000;$ $K = 2\,000\,000\,000\,000\,000\,000$
</Subtask>
<Subtask index={4} score={21}>
  $N \le 3,000$
</Subtask>
<Subtask index={5} score={18}>
  $K = 2\,000\,000\,000\,000\,000\,000$
</Subtask>
<Subtask index={6} score={24}>
  추가적인 제한 조건이 없음.
</Subtask>

## 해설

<Solution>
먼저, $0 \le K$를 가정하자. $S = 1$인 최적해가 반드시 존재함을 알 수 있다.

이제, $E$를 $1$부터 $N$까지 점차 증가하면서 구간을 $[1, E]$로 잡았을 때의 만족 점수를 계산하자.
$E$번 길드원의 인기도가 $K$만큼 증가할 때의 만족 점수의 변화량은,
인기도가 특정 구간에 속하는 길드원의 수로 나타낼 수 있다.
따라서, 값의 업데이트와 구간에서 특정 값 이하의 수를 셀 수 있는 Fenwick tree를 이용해 이를 효율적으로 계산할 수 있다.

$K < 0$인 경우에는, $-K$일 때의 최적해 $[1, E]$를 $[\max\{ 1, E-1 \}, N]$으로 변형하여 답을 쉽게 구할 수 있다.
시간복잡도는 $\mathcal{O}\left( N \lg N \right)$이다.
</Solution>
