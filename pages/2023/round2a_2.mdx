import {
  Examples,
  Input,
  Output,
  Figure,
  PostLayout,
  Simulators,
  Solution,
  Subtask,
} from "components";

export const meta = {
  title: "주사위 대체",
  year: 2023,
  stage: "Round 2-A",
};

export default ({ children }) => (
  <PostLayout meta={meta}>{children}</PostLayout>
);

우리는 다양한 상황에 주사위를 이용한다.
일반적으로 사용하는 주사위는 $1$부터 $6$까지 숫자가 각 면에 적혀있다.
이외에도 다양한 주사위가 있을 수 있다.

$D_n$ 주사위를 정의하자.
이는 $1$부터 $n$까지의 정수가 동일한 확률로 나오는 주사위를 의미한다.
우리가 일반적으로 사용하는 정육면체 주사위는 $D_6$ 주사위이다.

다오는 $D_n$ 주사위가 필요하다.
하지만 불행히도,
다오는 현재 $D_m$ 주사위 밖에 없다.
다오는 $D_m$ 주사위를 적당한 횟수로 던져서 나오는 결과들을 분류하여,
$D_n$ 주사위처럼 사용할 수 있는지 알고 싶다.

예를 들어서,
$D_6$ 주사위를 이용하여
$D_4$ 주사위처럼 사용하는 경우를 생각해보자.
* $1$, $2$, $3$, $4$가 나오면, 그대로 $1$, $2$, $3$, $4$
* $5$가 나오면, 다시 굴려서 $1$, $2$, $3$이면 $1$로, $4$, $5$, $6$이면 $2$
* $6$이 나오면, 다시 굴려서 $1$, $2$, $3$이면 $3$으로, $4$, $5$, $6$이면 $4$

이 경우, $1$부터 $4$까지 각 수가 나올 확률이 모두 같음을 알 수 있다.
$1$이 나오는 확률을 보자.
처음 던져서 $1$이 나올 확률은 $\frac{1}{6}$,
두 번까지 던지는 경우는 $\frac{1}{6} \times \frac{1}{2}$이다.
따라서 $1$이 나올 확률은 $\frac{1}{6} + (\frac{1}{6} \times \frac{1}{2}) = \frac{1}{4}$이다.
따라서, $D_6$ 주사위를 이용하여 $D_4$ 주사위처럼 사용할 수 있음을 알 수 있다.

다오는 앞으로 비슷한 상황이 많이 생길지도 모르기 때문에,
$T$ 개의 쌍 $m$과 $n$이 주어지면,
각각의 쌍에 대해 $D_m$ 주사위를 적당한 횟수로 던져서 나오는 결과들을 분류하여,
$D_n$ 주사위처럼 사용할 수 있는지를 각 쌍에 대해 판별하고 싶다.
여기서 말하는 적당한 횟수란 무한하지 않은 횟수를 의미한다.

## 입력 형식

첫 줄에 정수 쌍의 개수 $T$가 주어진다. ($1 \le T \le 100\,000$)

이어지는 $T$ 개의 줄의 $i$ 번째 줄에는
$i$ 번째 $m$, $n$ 쌍이 공백으로 구분되어 주어진다.
($2 \le m, n \le 1\,000\,000\,000\,000\,000\,000$)

## 출력 형식

$T$ 개의 줄에 답을 출력한다.

$i$ 번째 줄에는 $i$ 번째 $m$, $n$ 쌍에 대하여,
$D_m$ 주사위를 이용하여 $D_n$ 주사위처럼 사용 가능하면 `YES`를,
불가능하면 `NO`를 출력한다.

## 예제

<Examples>
  {/* prettier-ignore */}
  <Input>
2
6 4
4 6
  </Input>
  {/* prettier-ignore */}
  <Output>
YES
NO
  </Output>
</Examples>

## 채점 방식

입력 케이스들은 다음과 같은 종류로 구별되며, 한 종류의 케이스를 다 맞혀야
그 종류에 배정된 점수를 받을 수 있다.

<Subtask index={1} score={10}>
  $m, n \le 10$
</Subtask>
<Subtask index={2} score={30}>
  $m, n \le 1\,000\,000\,000$
</Subtask>
<Subtask index={3} score={5}>
  $m$은 $n$의 배수다.
</Subtask>
<Subtask index={4} score={5}>
  $m$과 $n$은 서로소다.
</Subtask>
<Subtask index={5} score={50}>
  추가적인 제한 조건이 없음.
</Subtask>

## 해설

<Solution>
주사위 $D_m$, $D_n$에 대해,
$D_m$ 주사위를 적당한 횟수로 던져서 $D_n$ 주사위처럼 사용할 수 있으려면,
어떤 양의 정수 $k$에 대해, $m^k$가 $n$의 배수여야 한다.

위의 조건을 최대공약수의 관점에서 다시 써보자.
어떤 두 자연수 $a$, $b$에 대해 $a$, $b$의 최대 공약수를
$\gcd(a,b)$로 쓰면, 위의 조건은 어떤 양의 정수 $k$에 대해,
$\gcd(m^k, n) = n$이어야 한다고 할 수 있다.

이때, $\gcd(m, n) = g$이고, $m = gx$, $n = gy$라고 하자.
그러면, $\gcd(x, y) = 1$이다. 최대공약수의 성질에 의해 다음 등식이 성립한다.
$\gcd(m^k, n) = \gcd(m \cdot m^{k-1}, n) = \gcd(gx \cdot m^{k-1}, gy) = g \cdot \gcd(x \cdot m^{k-1} , y) = g \cdot \gcd(m^{k-1} , y)$ 이 성립한다.

이때, $D_m$ 주사위를 적당한 횟수로 던져서 $D_n$ 주사위처럼 사용할 수 있으려면,
$2^{60} \ge \max(m, n)$ 이므로,
$k \le 60$이다.
따라서, 사용 가능한 경우, $m^{60}$은 $n$의 배수여야 한다.

$m^{60}$이 $n$의 배수인지 판별하는 것은 위의 수식을 통해 코드로 구현하면 쉽게 구현할 수 있다.
$m^{60}$이 $n$의 배수이면, 사용 가능하고, 배수가 아니면, 사용 불가능하다.
$m^{60}$이 $n$의 배수이면 `YES`를, 아니면 `NO`를 출력한다.
</Solution>
