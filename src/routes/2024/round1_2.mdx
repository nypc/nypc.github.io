---
title: 무한 길이 물풍선
year: 2024
stage: Round 1
bikoId: 4688
---


<div style={{ display: "flex" }}>
  <Figure
    src="/2024/2-1.f5057fdd9cbed9f9.png"
    width={300}
  />
</div>

배찌는 무한한 길이의 폭발 범위를 가지는 물풍선 스킬을 터득하였다. 이 스킬을
사용하기 위해 배찌는 우선 2차원 평면의 $N$ 개의 좌표에 물풍선을 놓는다.

스킬을 사용하면 동일한 $x$ 좌표를 가진 두 점에 물풍선이 있는 경우 해당 $x$ 좌표의 모든
점이 물풍선의 폭발 범위에 들어간다. 즉, 수직인 직선 전부가 물풍선의 폭발 범위가 된다.

또, 동일한 $y$ 좌표를 가진 두 점에 물풍선이 있는 경우 해당 $y$ 좌표의 모든
점이 물풍선의 폭발 범위에 들어간다. 즉, 수평인 직선 전부가 물풍선의 폭발 범위가 된다.

배찌가 물풍선을 놓은 좌표들을 입력으로 받아 물풍선의 폭발 범위가 되는 수직, 수평
직선의 개수를 계산하는 프로그램을 작성하라. 서로 다른 두 개 이상의 물풍선 쌍이 만드는
폭발 범위가 완전히 일치하는 경우, 즉 동일한 직선이 되는 경우는 하나로 세어야 한다.

## 입력 형식

첫 줄에 점의 개수를 나타내는 정수 $N$이 주어진다. ($1 \le N \le 100\,000$)

이어지는 $N$ 개의 줄의 $i$ 번째 줄에는
$i$ 번째 물풍선이 놓인 좌표를 나타내는 두 정수 $x_i$와 $y_i$가
공백으로 구분되어 주어진다.
($1 \le x_i, y_i \le 1\,000\,000\,000$)

주어지는 물풍선의 좌표는 서로 다르다.

## 출력 형식

첫 줄에 물풍선의 폭발 범위가 되는 수직, 수평 직선의 개수를 출력한다.

## 예제

<Examples>
  {/* prettier-ignore */}
  <Input>
4
1 1
2 2
3 1
2 1
  </Input>
  {/* prettier-ignore */}
  <Output>
2
  </Output>
</Examples>

## 예제 설명

물풍선이 놓인 점 $(2, 2)$와 $(2, 1)$을 보면 $x$ 좌표가 같으므로 수직인 직선
하나가 폭발 범위가 된다.\
점 $(1, 1)$과 $(2, 1)$을 보면 $y$ 좌표가 같으므로 수평인 직선 하나가 폭발 범위가 된다.\
점 $(2, 1)$과 $(3, 1)$을 보면 $y$ 좌표가 같으므로 수평인 직선 하나가 폭발 범위가 된다.\
점 $(1, 1)$과 $(3, 1)$을 보면 $y$ 좌표가 같으므로 수평인 직선 하나가 폭발 범위가 된다.\
그런데, 수평인 직선 $3$ 개는 모두 완전히 일치하므로 $1$ 개로 세어야 한다.

따라서 이 경우의 답은 $2$가 된다.

## 채점 방식

입력 케이스들은 다음과 같은 종류로 구별되며, 한 종류의 케이스를 다 맞혀야 그 종류에 배정된 점수를 받을 수 있다.

<Subtask index={1} score={13}>
  $N \le 20;$ $x_i, y_i \le 20$
</Subtask>
<Subtask index={2} score={16}>
  $N \le 1\,000$; $x_i, y_i \le 100$
</Subtask>
<Subtask index={3} score={14}>
  $N \le 1\,000$
</Subtask>
<Subtask index={4} score={57}>
  추가적인 제한 조건이 없음.
</Subtask>

## 해설

<Solution>
어떤 $x$ 좌표에 대해 그 $x$ 좌표를 가지는 물풍선이 두 개 이상 있으면 수직으로 폭발이 일어난다.
마찬가지로, 어떤 $y$ 좌표에 대해 그 $y$ 좌표를 가지는 물풍선이 두 개 이상 있으면 수평으로 폭발이 일어난다.
이러한 점을 이용하여, 정렬 혹은 map 등의 자료구조를 이용하여
문제를 $\mathcal{O}\left( N \lg N \right)$ 시간복잡도에 해결할 수 있다.
</Solution>
