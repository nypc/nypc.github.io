---
title: 같이 던전 도실래요?
year: 2025
stage: Round 1
bikoId: 5488
---


<div style={{ display: "flex" }}>
  <Figure
    src="/2025/r1-01-c0cbd5d6-24bf-42ba-a4da-fa97f1593906.png"
    width={800}
  />
</div>

마비노기 모바일에 새 던전이 추가되었다. 
$2N$명의 플레이어가 $2$인용 파티 던전에 도전하려고 한다.
각 플레이어마다 플레이 가능 시간이 분 단위로 주어지며,
$2$인 파티의 플레이 가능 시간은 두 플레이어의 플레이 가능 시간 중 작은 값이다.

각 플레이어는 정확히 하나의 파티에 참여해야 한다.
따라서, 총 $N$개의 $2$인 파티가 만들어져야 한다.

두 명의 플레이어가 한 파티를 만들 때, **파티 시너지**는 다음과 같이 정의된다.

$$
\textbf{파티 시너지}
= \text{두 플레이어의 플레이 가능 시간 합}
    - \text{두 플레이어의 플레이 가능 시간 차이의 절댓값}
$$

던전은 무한한 개수의 방으로 이루어져 있고,
항상 첫 번째 방부터 시작하여 차례대로 방을 방문한다.
방 하나를 클리어하는 데에는 모두 동일하게 $M$분이 걸린다.
방 사이를 이동하는 데에는 시간이 걸리지 않는다.

각 파티는 파티의 플레이 가능 시간 동안만 던전 공략이 가능하며,
플레이 종료 시점까지 공략이 끝나지 못한 방은 클리어하지 못한 것으로 간주된다.
플레이 종료 시점과 클리어 시점이 동일하다면, 그 방은 클리어한 것임에 유의하라.

파티의 **최종 스코어**는 다음과 같이 계산된다.

$$
\textbf{최종 스코어}
= \text{파티 시너지} \times \text{클리어한 던전 방 수}
$$

파티를 적절히 구성하여
모든 파티의 최종 스코어의 총합을 최대화하는 프로그램을 작성하라.

## 입력 형식

첫 줄에 파티 던전의 수를 나타내는 정수 $N$과
던전의 각 방을 클리어하는 데 필요한 시간을 나타내는 정수 $M$이 주어진다.
($1 \le N \le 100\,000;$ $1 \le M \le 200\,000$)

그다음 줄에 각 플레이어가 플레이할 수 있는 시간을 나타내는 $2N$개의 정수
$A_1, A_2, \cdots, A_{2N}$이 공백으로 구분되어 주어진다.
($1 \le A_i \le 200\,000$)

## 출력 형식

첫 줄에 모든 파티의 최종 스코어의 총합의 최댓값을 출력한다.

## 예제 1

<Examples>
  {/* prettier-ignore */}
  <Input>
2 2
3 3 5 5
  </Input>
  {/* prettier-ignore */}
  <Output>
26
  </Output>
</Examples>

## 예제 2

<Examples>
  {/* prettier-ignore */}
  <Input>
1 1
1000 1000
  </Input>
  {/* prettier-ignore */}
  <Output>
2000000
  </Output>
</Examples>

## 예제 3

<Examples>
  {/* prettier-ignore */}
  <Input>
5 1
1 2 1 2 1 2 1 2 1 2
  </Input>
  {/* prettier-ignore */}
  <Output>
22
  </Output>
</Examples>

## 예제 설명

- **예제 1**에서는 플레이 가능 시간이 같은 플레이어끼리 파티를 만들면,
  파티 시너지는 각각 $(3 + 3) - |3 - 3| = 6$, $(5 + 5) - |5 - 5| = 10$이 된다.

  플레이 가능 시간이 $3$인 파티는 $1$개의 방을 클리어하고, 플레이 가능 시간이 $5$인 파티는 $2$개의 방을 클리어하므로
  최종 스코어 총합은 $6 \times 1 + 10 \times 2 = 26$이다.

- **예제 2**에서는 파티를 만들 수 있는 방법이 하나뿐이므로,
  파티 시너지는 $(1\,000 + 1\,000) - |1\,000 - 1\,000| = 2\,000$이고,
  이렇게 구성한 파티는 $1\,000$개의 방을 클리어할 수 있다.
  따라서, 최종 스코어는 $2\,000 \times 1\,000 = 2\,000\,000$이다.

- **예제 3**에서도 플레이 가능 시간이 같은 플레이어끼리 파티를 만들면,
  파티 시너지가 $(2 + 2) - |2 - 2| = 4$인 파티가 $2$개,
  $(1 + 1) - |1 - 1| = 2$인 파티가 $2$개가 된다.

  나머지 $1$개의 파티는 플레이 가능 시간이 $1$인 플레이어와 $2$인 플레이어로 이루어지며,
  이 파티의 파티 시너지는 $(1 + 2) - |1 - 2| = 2$이고
  파티의 플레이 가능 시간은 $1$이다.

  플레이 가능 시간이 $2$인 파티는 $2$개의 방을 클리어할 수 있고,
  플레이 시간이 $1$인 파티는 $1$개의 방을 클리어할 수 있으므로,
  최종 스코어 총합은 $2 \times (4 \times 2) + 2 \times (2 \times 1) + (2 \times 1) = 22$이다.

## 채점 방식

입력 케이스들은 다음과 같은 종류로 구별되며, 한 종류의 케이스를 다 맞혀야 그 종류에 배정된 점수를 받을 수 있다.

<Subtask index={1} score={17}>
  $N = 1;$
  $1 \le A_i \le 1\,000$
</Subtask>
<Subtask index={2} score={18}>
  $M = 1;$
  $1 \le A_i \le 2$
</Subtask>
<Subtask index={3} score={23}>
  $N \le 5;$
  $1 \le A_i \le 1\,000$
</Subtask>
<Subtask index={4} score={29}>
  $N \le 500;$
  $1 \le A_i \le 1\,000$
</Subtask>
<Subtask index={5} score={13}>
  모든 입력 케이스가 주어짐.
</Subtask>

## 해설

<Solution>
두 사람으로 구성된 팀의 점수가
$$
(A_i + A_j - \vert A_i - A_j \vert) \times \left\lfloor \frac{\min(A_i,A_j)}{M} \right\rfloor
$$
로 계산될 때, 점수의 합이 최대가 되도록 $N$개의 팀을 구성하는 문제입니다.

$A_i + A_j - \vert A_i - A_j \vert$는 $2\times \min(A_i,A_j)$와 같으므로,
팀의 점수는 두 사람의 플레이 가능 시간 중 더 작은 값으로만 결정된다는 것을 알 수 있습니다.

이 경우, $2N$명의 사람을 플레이 가능 시간에 대한 오름차순으로 정렬한 뒤,
인접한 두 명씩 묶는 것으로 팀 점수의 합을 최대화할 수 있습니다.
</Solution>
